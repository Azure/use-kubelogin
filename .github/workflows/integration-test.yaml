name: Integration Test

on:
  pull_request: {}

jobs:
  test-versions:
    strategy:
      matrix:
        kubelogin-version:
        - latest
        - '*'
        - ''
        - 'v0.0.24'
        - 'v0.0.23'
        skip-cache:
        - true
        - false
    uses: ./.github/workflows/test-kubelogin.yaml
    with:
      kubelogin-version: ${{ matrix.kubelogin-version }}
      skip-cache: ${{ matrix.skip-cache }}
    secrets: inherit
